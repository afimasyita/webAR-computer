<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>ScicARds</title>
      	<script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script> 
      
	<!-- tambahan library nggo ngeload animasi balungan njoget -->
      	<script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
	<script src="https://cdn.rawgit.com/jeromeetienne/AR.js/1.6.0/aframe/build/aframe-ar.js"></script>
	<!-- add end fix animation dancing_skeleton with js >.< -->	
 
	<!-- add splashscreen start -->
	<script>
	window.onload = function(){    
		setTimeout(function(){
			var resizeEvent = window.document.createEvent('UIEvents'); 
			resizeEvent.initUIEvent('resize', true, false, window, 0); 
			window.dispatchEvent(resizeEvent);
		}, 3000);
	};	
	</script>
    	<!-- end of splashscreen -->
</head>
	 
  <body style='margin : 0px; overflow: hidden;'>
    
    <a-scene embedded arjs='sourceType: webcam; debugUIEnabled: false;'>
        <a-assets>
            <a-asset-item id="animated-asset" src="gltf/right_foot.gltf"></a-asset-item>
            <a-asset-item id="animated-asset2" src="gltf/left_foot.gltf"></a-asset-item>
            <a-asset-item id="animated-asset3" src="gltf/pelvis.gltf"></a-asset-item>
            <a-asset-item id="animated-asset4" src="gltf/left_arm.gltf"></a-asset-item>
            <a-asset-item id="animated-asset5" src="gltf/left_hand.gltf"></a-asset-item>
            <a-asset-item id="animated-asset6" src="gltf/left_leg.gltf"></a-asset-item>
            <a-asset-item id="animated-asset7" src="gltf/right_arm.gltf"></a-asset-item>
            <a-asset-item id="animated-asset8" src="gltf/right_hand.gltf"></a-asset-item>
            <a-asset-item id="animated-asset9" src="gltf/right_leg.gltf"></a-asset-item>
            <a-asset-item id="animated-asset10" src="gltf/ribs.gltf"></a-asset-item>
            <a-asset-item id="animated-asset11" src="gltf/skull.gltf"></a-asset-item>
            <a-asset-item id="animated-asset12" src="gltf/dancing_skeleton.glb"></a-asset-item>
	    <a-asset-item id="animated-asset13" src="gltf/usm.glb"></a-asset-item>
        </a-assets>
	<a-assets>
            <audio id="sound" src="sound/samba_soryy.mp3" preload="auto"></audio>
        </a-assets>
          
      <a-marker preset="custom" type="pattern" url="pattern/right_foot.patt">
          <a-entity
              position="0 0 0"
              id="animated-model"
              gltf-model="#animated-asset"
              scale="1.75 1.75 1.75">
          </a-entity>
      </a-marker>

      <a-marker preset="custom" type="pattern" url="pattern/left_foot.patt">
          <a-entity
              position="0 0 0"
              id="animated-model2"
              gltf-model="#animated-asset2"
              scale="1.75 1.75 1.75">
          </a-entity>
      </a-marker>

      <a-marker preset="custom" type="pattern" url="pattern/pelvis.patt">
          <a-entity
              position="0 0 0"
              id="animated-model3"
              gltf-model="#animated-asset3"
              scale="1.75 1.75 1.75">
          </a-entity>
      </a-marker>

      <a-marker preset="custom" type="pattern" url="pattern/left_arm.patt">
          <a-entity
              position="0 0 0"
              id="animated-model4"
              gltf-model="#animated-asset4"
              scale="1.75 1.75 1.75">
          </a-entity>
      </a-marker>

      <a-marker preset="custom" type="pattern" url="pattern/left_hand.patt">
          <a-entity
              position="0 0 0"
              id="animated-model5"
              gltf-model="#animated-asset5"
              scale="1.75 1.75 1.75">
          </a-entity>
      </a-marker>

      <a-marker preset="custom" type="pattern" url="pattern/left_leg.patt">
          <a-entity
              position="0 0 0"
              id="animated-model6"
              gltf-model="#animated-asset6"
              scale="1.75 1.75 1.75">
          </a-entity>
      </a-marker>

      <a-marker preset="custom" type="pattern" url="pattern/right_arm.patt">
          <a-entity
              position="0 0 0"
              id="animated-model7"
              gltf-model="#animated-asset7"
              scale="1.75 1.75 1.75">
          </a-entity>
      </a-marker>

      <a-marker preset="custom" type="pattern" url="pattern/right_hand.patt">
          <a-entity
              position="0 0 0"
              id="animated-model8"
              gltf-model="#animated-asset8"
              scale="1.75 1.75 1.75">
          </a-entity>
      </a-marker>

      <a-marker preset="custom" type="pattern" url="pattern/right_leg.patt">
          <a-entity
              position="0 0 0"
              id="animated-model9"
              gltf-model="#animated-asset9"
              scale="1.75 1.75 1.75">
          </a-entity>
      </a-marker>

      <a-marker preset="custom" type="pattern" url="pattern/ribs.patt">
          <a-entity
              position="0 0 0"
              id="animated-model10"
              gltf-model="#animated-asset10"
              scale="1.75 1.75 1.75">
          </a-entity>
      </a-marker>

      <a-marker preset="custom" type="pattern" url="pattern/skull.patt">
          <a-entity
	      rotation="90 0 0"
              position="0 0 0"
              id="animated-model11"
              gltf-model="#animated-asset11"
              scale="1.75 1.75 1.75">
          
	      <a-animation attribute="rotation" dur="7000" to="0 360 0" easing="linear" repeat="indefinite">
          </a-animation>
	  </a-entity>
      </a-marker>
      
      <!-- add dancing skeleton -->
      <a-marker preset="custom" type="pattern" url="pattern/dancing_skeleton.patt" soundhandler>
          <a-entity
              position="0 0 0"
              id="animated-model2"
              gltf-model="#animated-asset12" animation-mixer
	      sound="src: #sound" autoplay="false" soundhandler
              scale="15 15 15">
          </a-entity>
        <!--<a-entity gltf-model="#animated-asset12" animation-mixer></a-entity>-->
	  <a-entity sound="src:#sound" autoplay="false"></a-entity>
      </a-marker>
	
	    <!-- add usm logo-->
      <a-marker preset="custom" type="pattern" url="pattern/usm-patt.patt">
          <a-entity
              position="0 0 0"
              id="animated-model11"
              gltf-model="#animated-asset13"
              scale="1.75 1.75 1.75">
          </a-entity>
      </a-marker>
	    
      <a-entity camera></a-entity>
    </a-scene>

    <!-- add splash screen javascript
      <script>
        const overlay = document.querySelector(".overlay");
    	const startBtn = overlay.querySelector("button");
    	console.log(startBtn);
    	startBtn.addEventListener("click", function(){
      	overlay.style.display = "none";    
    	});
      </script>
    end of .js -->
	  
    <!-- add sound query select javascript -->
      <!-- <script>
	AFRAME.registerComponent('soundhandler', {
	    tick: function () {
		   var entity = document.querySelector('[sound]');
		 if (document.querySelector('a-marker').object3D.visible == true) {
		    entity.components.sound.playSound();
		} else {
		    entity.components.sound.pauseSound();
		}

	     }
	});
      </script>-->  
	  
  </body>
</html>
